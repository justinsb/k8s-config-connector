POST https://composer.googleapis.com/v1beta1/projects/${projectId}/locations/us-central1/environments?alt=json&prettyPrint=false
Content-Type: application/json
User-Agent: google-api-go-client/0.5 Terraform/ (+https://www.terraform.io) Terraform-Plugin-SDK/2.10.1 terraform-provider-google-beta/dev
X-Goog-Api-Client: gl-go/1.21.3 gdcl/0.139.0

{
  "config": {
    "nodeConfig": {
      "serviceAccount": "composer-${uniqueId}@${projectId}.iam.gserviceaccount.com"
    }
  },
  "labels": {
    "cnrm-test": "true",
    "managed-by-cnrm": "true"
  },
  "name": "projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}"
}

200 OK
Cache-Control: private
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "metadata": {
    "@type": "type.googleapis.com/google.cloud.orchestration.airflow.service.v1beta1.OperationMetadata",
    "createTime": "2023-11-03T02:17:41.087520Z",
    "operationType": "CREATE",
    "resource": "projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}",
    "resourceUuid": "8a15ac1b-3bb3-44ae-b75f-689704d62542",
    "state": "PENDING"
  },
  "name": "projects/${projectId}/locations/us-central1/operations/562a92f7-9726-4e8c-95d4-197b5e8e6955"
}

---

GET https://composer.googleapis.com/v1beta1/projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}?alt=json&prettyPrint=false
User-Agent: google-api-go-client/0.5 Terraform/ (+https://www.terraform.io) Terraform-Plugin-SDK/2.10.1 terraform-provider-google-beta/dev
X-Goog-Api-Client: gl-go/1.21.3 gdcl/0.139.0

200 OK
Cache-Control: private
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "config": {
    "airflowByoidUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.byoid.googleusercontent.com",
    "airflowUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.googleusercontent.com",
    "dagGcsPrefix": "gs://us-central1-minimalysar6b7a-562a92f7-bucket/dags",
    "databaseConfig": {},
    "encryptionConfig": {},
    "environmentSize": "ENVIRONMENT_SIZE_SMALL",
    "gkeCluster": "projects/${projectId}/locations/us-central1/clusters/us-central1-minimalysar6b7a-562a92f7-gke",
    "maintenanceWindow": {
      "endTime": "1970-01-01T04:00:00Z",
      "recurrence": "FREQ=WEEKLY;BYDAY=FR,SA,SU",
      "startTime": "1970-01-01T00:00:00Z"
    },
    "nodeConfig": {
      "ipAllocationPolicy": {},
      "network": "projects/${projectId}/global/networks/default",
      "serviceAccount": "composer-${uniqueId}@${projectId}.iam.gserviceaccount.com"
    },
    "privateEnvironmentConfig": {
      "cloudComposerNetworkIpv4CidrBlock": "172.31.245.0/24",
      "cloudSqlIpv4CidrBlock": "10.0.0.0/12",
      "privateClusterConfig": {}
    },
    "softwareConfig": {
      "cloudDataLineageIntegration": {},
      "imageVersion": "composer-2.4.6-airflow-2.5.3"
    },
    "webServerNetworkAccessControl": {
      "allowedIpRanges": [
        {
          "description": "Allows access from all IPv4 addresses (default value)",
          "value": "0.0.0.0/0"
        },
        {
          "description": "Allows access from all IPv6 addresses (default value)",
          "value": "::0/0"
        }
      ]
    },
    "workloadsConfig": {
      "scheduler": {
        "count": 1,
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "webServer": {
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "worker": {
        "cpu": 0.5,
        "maxCount": 3,
        "memoryGb": 2,
        "minCount": 1,
        "storageGb": 1
      }
    }
  },
  "createTime": "2023-11-03T02:17:41.087520Z",
  "labels": {
    "cnrm-test": "true",
    "managed-by-cnrm": "true"
  },
  "name": "projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}",
  "state": "RUNNING",
  "storageConfig": {
    "bucket": "us-central1-minimalysar6b7a-562a92f7-bucket"
  },
  "updateTime": "2023-11-03T02:37:49.188471Z",
  "uuid": "8a15ac1b-3bb3-44ae-b75f-689704d62542"
}

---

GET https://composer.googleapis.com/v1beta1/projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}?alt=json&prettyPrint=false
User-Agent: google-api-go-client/0.5 Terraform/ (+https://www.terraform.io) Terraform-Plugin-SDK/2.10.1 terraform-provider-google-beta/dev
X-Goog-Api-Client: gl-go/1.21.3 gdcl/0.139.0

200 OK
Cache-Control: private
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "config": {
    "airflowByoidUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.byoid.googleusercontent.com",
    "airflowUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.googleusercontent.com",
    "dagGcsPrefix": "gs://us-central1-minimalysar6b7a-562a92f7-bucket/dags",
    "databaseConfig": {},
    "encryptionConfig": {},
    "environmentSize": "ENVIRONMENT_SIZE_SMALL",
    "gkeCluster": "projects/${projectId}/locations/us-central1/clusters/us-central1-minimalysar6b7a-562a92f7-gke",
    "maintenanceWindow": {
      "endTime": "1970-01-01T04:00:00Z",
      "recurrence": "FREQ=WEEKLY;BYDAY=FR,SA,SU",
      "startTime": "1970-01-01T00:00:00Z"
    },
    "nodeConfig": {
      "ipAllocationPolicy": {},
      "network": "projects/${projectId}/global/networks/default",
      "serviceAccount": "composer-${uniqueId}@${projectId}.iam.gserviceaccount.com"
    },
    "privateEnvironmentConfig": {
      "cloudComposerNetworkIpv4CidrBlock": "172.31.245.0/24",
      "cloudSqlIpv4CidrBlock": "10.0.0.0/12",
      "privateClusterConfig": {}
    },
    "softwareConfig": {
      "cloudDataLineageIntegration": {},
      "imageVersion": "composer-2.4.6-airflow-2.5.3"
    },
    "webServerNetworkAccessControl": {
      "allowedIpRanges": [
        {
          "description": "Allows access from all IPv4 addresses (default value)",
          "value": "0.0.0.0/0"
        },
        {
          "description": "Allows access from all IPv6 addresses (default value)",
          "value": "::0/0"
        }
      ]
    },
    "workloadsConfig": {
      "scheduler": {
        "count": 1,
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "webServer": {
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "worker": {
        "cpu": 0.5,
        "maxCount": 3,
        "memoryGb": 2,
        "minCount": 1,
        "storageGb": 1
      }
    }
  },
  "createTime": "2023-11-03T02:17:41.087520Z",
  "labels": {
    "cnrm-test": "true",
    "managed-by-cnrm": "true"
  },
  "name": "projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}",
  "state": "RUNNING",
  "storageConfig": {
    "bucket": "us-central1-minimalysar6b7a-562a92f7-bucket"
  },
  "updateTime": "2023-11-03T02:37:49.188471Z",
  "uuid": "8a15ac1b-3bb3-44ae-b75f-689704d62542"
}

---

GET https://composer.googleapis.com/v1beta1/projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}?alt=json&prettyPrint=false
User-Agent: google-api-go-client/0.5 Terraform/ (+https://www.terraform.io) Terraform-Plugin-SDK/2.10.1 terraform-provider-google-beta/dev
X-Goog-Api-Client: gl-go/1.21.3 gdcl/0.139.0

200 OK
Cache-Control: private
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "config": {
    "airflowByoidUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.byoid.googleusercontent.com",
    "airflowUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.googleusercontent.com",
    "dagGcsPrefix": "gs://us-central1-minimalysar6b7a-562a92f7-bucket/dags",
    "databaseConfig": {},
    "encryptionConfig": {},
    "environmentSize": "ENVIRONMENT_SIZE_SMALL",
    "gkeCluster": "projects/${projectId}/locations/us-central1/clusters/us-central1-minimalysar6b7a-562a92f7-gke",
    "maintenanceWindow": {
      "endTime": "1970-01-01T04:00:00Z",
      "recurrence": "FREQ=WEEKLY;BYDAY=FR,SA,SU",
      "startTime": "1970-01-01T00:00:00Z"
    },
    "nodeConfig": {
      "ipAllocationPolicy": {},
      "network": "projects/${projectId}/global/networks/default",
      "serviceAccount": "composer-${uniqueId}@${projectId}.iam.gserviceaccount.com"
    },
    "privateEnvironmentConfig": {
      "cloudComposerNetworkIpv4CidrBlock": "172.31.245.0/24",
      "cloudSqlIpv4CidrBlock": "10.0.0.0/12",
      "privateClusterConfig": {}
    },
    "softwareConfig": {
      "cloudDataLineageIntegration": {},
      "imageVersion": "composer-2.4.6-airflow-2.5.3"
    },
    "webServerNetworkAccessControl": {
      "allowedIpRanges": [
        {
          "description": "Allows access from all IPv4 addresses (default value)",
          "value": "0.0.0.0/0"
        },
        {
          "description": "Allows access from all IPv6 addresses (default value)",
          "value": "::0/0"
        }
      ]
    },
    "workloadsConfig": {
      "scheduler": {
        "count": 1,
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "webServer": {
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "worker": {
        "cpu": 0.5,
        "maxCount": 3,
        "memoryGb": 2,
        "minCount": 1,
        "storageGb": 1
      }
    }
  },
  "createTime": "2023-11-03T02:17:41.087520Z",
  "labels": {
    "cnrm-test": "true",
    "managed-by-cnrm": "true"
  },
  "name": "projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}",
  "state": "RUNNING",
  "storageConfig": {
    "bucket": "us-central1-minimalysar6b7a-562a92f7-bucket"
  },
  "updateTime": "2023-11-03T02:37:49.188471Z",
  "uuid": "8a15ac1b-3bb3-44ae-b75f-689704d62542"
}

---

GET https://composer.googleapis.com/v1beta1/projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}?alt=json&prettyPrint=false
User-Agent: google-api-go-client/0.5 Terraform/ (+https://www.terraform.io) Terraform-Plugin-SDK/2.10.1 terraform-provider-google-beta/dev
X-Goog-Api-Client: gl-go/1.21.3 gdcl/0.139.0

200 OK
Cache-Control: private
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "config": {
    "airflowByoidUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.byoid.googleusercontent.com",
    "airflowUri": "https://8a15ac1b3bb344aeb75f689704d62542-dot-us-central1.composer.googleusercontent.com",
    "dagGcsPrefix": "gs://us-central1-minimalysar6b7a-562a92f7-bucket/dags",
    "databaseConfig": {},
    "encryptionConfig": {},
    "environmentSize": "ENVIRONMENT_SIZE_SMALL",
    "gkeCluster": "projects/${projectId}/locations/us-central1/clusters/us-central1-minimalysar6b7a-562a92f7-gke",
    "maintenanceWindow": {
      "endTime": "1970-01-01T04:00:00Z",
      "recurrence": "FREQ=WEEKLY;BYDAY=FR,SA,SU",
      "startTime": "1970-01-01T00:00:00Z"
    },
    "nodeConfig": {
      "ipAllocationPolicy": {},
      "network": "projects/${projectId}/global/networks/default",
      "serviceAccount": "composer-${uniqueId}@${projectId}.iam.gserviceaccount.com"
    },
    "privateEnvironmentConfig": {
      "cloudComposerNetworkIpv4CidrBlock": "172.31.245.0/24",
      "cloudSqlIpv4CidrBlock": "10.0.0.0/12",
      "privateClusterConfig": {}
    },
    "softwareConfig": {
      "cloudDataLineageIntegration": {},
      "imageVersion": "composer-2.4.6-airflow-2.5.3"
    },
    "webServerNetworkAccessControl": {
      "allowedIpRanges": [
        {
          "description": "Allows access from all IPv4 addresses (default value)",
          "value": "0.0.0.0/0"
        },
        {
          "description": "Allows access from all IPv6 addresses (default value)",
          "value": "::0/0"
        }
      ]
    },
    "workloadsConfig": {
      "scheduler": {
        "count": 1,
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "webServer": {
        "cpu": 0.5,
        "memoryGb": 2,
        "storageGb": 1
      },
      "worker": {
        "cpu": 0.5,
        "maxCount": 3,
        "memoryGb": 2,
        "minCount": 1,
        "storageGb": 1
      }
    }
  },
  "createTime": "2023-11-03T02:17:41.087520Z",
  "labels": {
    "cnrm-test": "true",
    "managed-by-cnrm": "true"
  },
  "name": "projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}",
  "state": "RUNNING",
  "storageConfig": {
    "bucket": "us-central1-minimalysar6b7a-562a92f7-bucket"
  },
  "updateTime": "2023-11-03T02:37:49.188471Z",
  "uuid": "8a15ac1b-3bb3-44ae-b75f-689704d62542"
}

---

---

DELETE https://composer.googleapis.com/v1beta1/projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}?alt=json&prettyPrint=false
User-Agent: google-api-go-client/0.5 Terraform/ (+https://www.terraform.io) Terraform-Plugin-SDK/2.10.1 terraform-provider-google-beta/dev
X-Goog-Api-Client: gl-go/1.21.3 gdcl/0.139.0

200 OK
Cache-Control: private
Content-Type: application/json; charset=UTF-8
Server: ESF
Vary: Origin
Vary: X-Origin
Vary: Referer
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN
X-Xss-Protection: 0

{
  "metadata": {
    "@type": "type.googleapis.com/google.cloud.orchestration.airflow.service.v1beta1.OperationMetadata",
    "createTime": "2023-11-03T02:37:52.916045Z",
    "operationType": "DELETE",
    "resource": "projects/${projectId}/locations/us-central1/environments/minimal${uniqueId}",
    "resourceUuid": "8a15ac1b-3bb3-44ae-b75f-689704d62542",
    "state": "PENDING"
  },
  "name": "projects/${projectId}/locations/us-central1/operations/0f9d3e64-49ee-42a1-bbff-d4a8a99c2d56"
}

---
